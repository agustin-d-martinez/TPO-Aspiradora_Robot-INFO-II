/*******************************************************************************************************************************//**
 *
 * @file		gpio.h
 * @brief		Breve descripción del objetivo del Módulo
 * @date		22 jun. 2022
 * @author		Ing. Marcelo Trujillo
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MODULO
 **********************************************************************************************************************************/

#ifndef GPIO_GPIO_H_
#define GPIO_GPIO_H_

/***********************************************************************************************************************************
 *** INCLUDES GLOBALES
 **********************************************************************************************************************************/
#include "pin.h"

/***********************************************************************************************************************************
 *** DEFINES GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MACROS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPO DE DATOS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES
 **********************************************************************************************************************************/
// extern tipo nombreVariable;

/***********************************************************************************************************************************
 *** IMPLANTACION DE LA CLASE
 **********************************************************************************************************************************/
class gpio : public pin
{
	protected:
		const 	uint8_t m_port ;
		const 	uint8_t m_bit ;
		const 	uint8_t m_mode ;
				uint8_t m_direction ;
		const 	uint8_t m_activity ;
				int8_t  m_error ;
	public:
		enum port_t			{ port0 , port1 };
		enum max_bits_port_t{ b_port0 = 31 , b_port1 = 9 };
		enum direction_t	{ input , output };
		enum power_t		{ off , on };
		enum mode_output_t 	{ pushpull , opencolector }; // el orden esta atado a las hojas de datos
		enum mode_input_t 	{ inactive , pulldown , pullup , repeater };
		enum activity_t		{ low ,	high };
		enum error_t		{ error = 2 , ok };

		enum interrupt_mode_t { rising_edge = 0 , falling_edge , rising_falling_edge , low_level , high_level };

		gpio ( uint8_t port , uint8_t bit , uint8_t mode , uint8_t activity , uint8_t direction );

		uint8_t SetPin ( void );
		uint8_t ClrPin ( void );
		uint8_t SetTogglePin ( void ) ;
		uint8_t SetDir ( void )  ;
		uint8_t SetToggleDir ( void ) ;
		uint8_t GetPin ( void ) const ;
		uint8_t SetPinMode ( void )  ;
		uint8_t SetPinResistor ( void ) ;
		gpio& operator= ( uint8_t a );
};


#endif /* GPIO_GPIO_H_ */
